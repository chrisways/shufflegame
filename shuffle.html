<!DOCTYPE html>
<html>
<head>
	<title>Shuffle Word</title>
		<meta charset="utf-8">
<meta name="viewport" content="width=device-width , initial-scale=1" >
<link rel="stylesheet" type="text/css" href="css/bootstrap.css">
<script type="text/javascript" src="js/jquery-1.8.2.js"></script>
<script type="text/javascript" src="js/bootstrap.js"></script>
<script type="text/javascript">
	var selectedOption = '';
	var gameMusic= new Audio("sound/shuffleaud.mp3");
	var startGm = new Audio("sound/gamestart.mp3");
var miss = new Audio("sound/miss.mp3");
var click = new Audio("sound/click.mp3");
var correct1 = new Audio("sound/correct1.mp3");
var correct2 = new Audio("sound/correct2.mp3");
var correct3 = new Audio("sound/correct3.mp3");
var timeover = new Audio("sound/timeover.mp3");
var secsHand = 0 , score = 0 ;
	var selectedInterestArray = [];
var soccer = ["soccer","goal","kick","referee","penalty","offside","cornerkick","football","foul","dribble","freekick"] ;
	var nof , tid , originalword , control ;
var politics = ["candidate","vote","senate","party","ballot box","manifesto","campaign","election","voters card","honorable","position","form"];
	
	function countDown()
	{
			nof = 3 ; //this determines the number of minutes in our application 
			engine() ;		
	}
	function stopCountDown()
	{
		document.getElementById("control2").disabled  = true ;
		document.getElementById("control").value  = "Begin" ;
		nof = "" ;
		secsHand = 0 ;

	}
	function engine()
	{
		secsHand-- ;
		if(secsHand == -1)
		{
			secsHand = 59 ;
			nof-- ;
			if(nof == -1)
			{
				nof = 0 ;
				secsHand = 0 ;
				document.getElementById('displayTime').value = 0 + " : " + 0 ;
				control = false ;
				timeover.play();

				alert("Your time is totally over and over and over, Game over") ;

				return ;
			}
		}
		document.getElementById('displayTime').value = nof + " : " + secsHand ;
		tid = window.setTimeout("engine()",1000) ;
	}
	function shuffle(word)
	{
		originalword = word ;
		var wordArray = word.split("");
		var wordLength = word.length ;
		var shuffledWord = "" ;
		for (var i = 0; i < wordLength ; i++) 
		{
			var rand = Math.floor(Math.random() * wordLength)  ;
			//rand = 3
			//alert(rand + " " + i + " " + wordArray[rand]) ;
			if(wordArray[rand] != "")
			{
				shuffledWord += wordArray[rand] ;
				wordArray[rand] = "" ;
			}
			else
			{
				i-- ;
			}
		}
	document.getElementById("oword").value = shuffledWord ;
	}
	function begin()
	{
		//with the assumption math.random returns 5
		index = Math.floor(Math.random() * selectedInterestArray.length) ;
		shuffle(selectedInterestArray[index]) ;
		
		countDown() ;
		startGm.play();
		click.play();
	} 
	function computeAns()
	{
		click.play();
		if(control == false)
		{
			timeover.play();
			alert("The game is over");
			return ;
		}
		var x="";
	
	
		var ans = document.getElementById("sword").value ;

		if(ans == originalword)
		{
			correct1.play();
			score+=10;
			
			switch(score)
			{
				case 10:
				var b = "<div class='progress' style=width:100%'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='10' style='width:10px'>10% complete";
          	 b+= "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     		case 20:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-danger' role='progress-bar' aria-valuenow='20' style='width:20px'>20% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	case 30:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='30' style='width:30px'>30% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	case 40:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='40' style='width:40px'>40% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	case 50:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='50' style='width:50px'>50% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	case 60:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='60' style='width:60px'> 60% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	case 70:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='70' style='width:70px'>70% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	case 80:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='80' style='width:80px'> 80% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	case 90:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='90' style='width:90px'> 90% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
     	
    	case 100:
     		var b = "<div class='progress'>";	
          b += "<div class='progress-bar progress-bar-info' role='progress-bar' aria-valuenow='100' style='width:100px'>100% complete";
          	 b += "<div>" ;   
        b += "</div>" ;
        //alert(a) ;
     	document.getElementById("check").innerHTML = b;
     	break;
			}
		}
		else
		{
			miss.play();
			alert("Wrong Answer, the correct answer is " + originalword ) ;
		}
		document.getElementById("sword").value = "" ;
		if(selectedInterestArray.length == 0)
		{
			control = false ;
			if (score>=50) {correct3.play(); alert("Your score is "+score);}
			else{alert("Your score is "+score); timeover.play();
			alert("The game is over") ;
			return ;}
			
		}
		index = Math.floor(Math.random() * selectedInterestArray.length) ;
		shuffle(selectedInterestArray[index]) ;
		selectedInterestArray.splice(index,1) ;
		sword.focus();

	}


	function startOver() {
		click.play();
	location.reload();

  }
	function disp()
	{  
		var d=$("#v").val();
		var selectedOption = f1.interest.value;
		
		if(selectedOption == 'soccer')
			{
				selectedInterestArray = soccer;
			}
		else if(selectedOption == 'politics')
			{
				selectedInterestArray = politics;
			}
	if(d!="")
	{
		$("#ro").show();
		$("#col").hide();
		$("strong").html(d);
		sword.focus();
	}
		else{
			alert("Enter your name first");}
		click.play();

	}

</script>
	<style type="text/css">
	div#background {
		width: 100%; 
		height: 800px;
   		background-image: url("shuffle2.png");
   		background-repeat: no-repeat;
		background-size: cover;
		 background-position: right bottom, left top;
	}			

</style>
</head>
<body onload="gameMusic.play()">
<div id="background">
	<div class="container">
<div class="row" style="display:none" id="ro">

	<div class="col-md-4">
		<div >
			<div align="center">
				<h1>Shuffle Word</h1>				
			</div>
			<div class="panel-body">
				<div class="form-group">
					<div class="form-group">
						<strong style="color:"></strong><br>
						<input type="button" id="control" class="btn btn-primary" value="START" onclick="begin()" name="">
					</div>
					<div class="form-group">
						<input type="text" class="form-control" name="" id="oword" placeholder="shuffled word here">
					</div>
					<div class="form-group">
						<input type="text" class="form-control" name="" id="sword" placeholder="answer here">
					</div>
					</div>
					<div class="form-group">
						<input type="button" id="control" class="btn btn-danger" value="Submit" onclick="computeAns()" name="">
						<input type="button" id="control" class="btn btn-warning" value="Start Over" onclick="startOver()" name="">
						<!-- start again button added by Pressemman -->

					</div>
				</div>
				<div>
					<div class="row">
						<div class="col-md-6 col-sm-6 col-xs-6">
							<div class="form-group">

								<input type="text" readonly id="displayTime" class="form-control" name="">
							</div>
							<div id="check">
							</div>
						</div>
						
					</div>
					
				</div>
			</div>
			
		</div>
	</div>
	<form name="f1" action="#" onSubmit="javasript: return false">
	<div class="col-md-6" id="col">
		<br><br><br>
		Select an area of interest: <input type="radio" name="interest" value="soccer" id="interest" checked  />Soccer <input type="radio" name="interest" id="interest" value="politics">Politics
		<br>
		
		<input type="text" name="" placeholder="enter you name here first" id="v" class="form-control"><br>
		<button onclick="disp()" class="btn btn-primary">Submit</button>
	</div>
		</form>
	<audio autoplay>
		<source src="sound/shuffleaud.mp3" type="audio/mp3">
	</audio>
</div>
</div><div></div>
</div>
</body>
</html>
